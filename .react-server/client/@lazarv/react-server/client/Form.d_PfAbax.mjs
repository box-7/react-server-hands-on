import{j as D}from"../../../jsx-runtime.1V7Smtlq.mjs";import{u as E,r as s,F as k}from"../../../react-server/client/context.BEW1agim.mjs";import"../../../react/jsx-runtime.CIru4pme.mjs";import"../../../react.BboN7MDb.mjs";function b({target:o,root:i,local:u,transition:c,push:f,replace:e,rollback:l=!1,noCache:m,revalidate:x,onNavigate:v,onError:w,onSubmit:p,children:y,...C}){const{navigate:F}=E(),{outlet:a}=s.useContext(k),n=s.useRef(null),r=s.useCallback(async()=>{try{const t=new URL(n.current.action,window.location.origin),d=new FormData(n.current);for(const[h,j]of d.entries())t.searchParams.set(h,j);const g=t.toString();await F(g,{outlet:o||(u?a:i?"PAGE_ROOT":void 0),push:(e?!1:f)??(o&&o===a),replace:e,rollback:l,noCache:m,revalidate:x}),v?.()}catch(t){w?.(t)}},[n,o,a,i,u,f,e,l,m,x]),R=s.useCallback(async t=>{t.preventDefault(),p?.(t),c!==!1?s.startTransition(r):r()},[c,p,r]);return D.jsx("form",{...C,ref:n,onSubmit:R,children:y})}export{b as default};
